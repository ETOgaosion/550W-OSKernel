<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.1" xml:lang="zh">
  <compounddef id="pgtable_8h" kind="file" language="C++">
    <compoundname>pgtable.h</compoundname>
    <includes refid="sbi_8h" local="no">asm/sbi.h</includes>
    <includes refid="types_8h" local="no">common/types.h</includes>
    <includedby refid="stack_8c" local="no">src/arch/riscv/kernel/init/stack.c</includedby>
    <includedby refid="arch_2riscv_2kernel_2init_2vm_8c" local="no">src/arch/riscv/kernel/init/vm.c</includedby>
    <includedby refid="pgtable_8c" local="no">src/arch/riscv/kernel/sys/pgtable.c</includedby>
    <includedby refid="virtio_8h" local="no">src/drivers/virtio/virtio.h</includedby>
    <includedby refid="fs_8c" local="no">src/fs/fs.c</includedby>
    <includedby refid="elf_8h" local="no">src/include/common/elf.h</includedby>
    <includedby refid="main_8c" local="no">src/init/main.c</includedby>
    <includedby refid="init_2vm_8c" local="no">src/init/vm.c</includedby>
    <includedby refid="irq_8c" local="no">src/kernel/irq/irq.c</includedby>
    <includedby refid="ioremap_8c" local="no">src/kernel/mm/ioremap.c</includedby>
    <includedby refid="mm_8c" local="no">src/kernel/mm/mm.c</includedby>
    <includedby refid="pcb_8c" local="no">src/kernel/sys/pcb.c</includedby>
    <incdepgraph>
      <node id="1">
        <label>src/arch/riscv/include/asm/pgtable.h</label>
        <link refid="pgtable_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="5">
        <label>common/errno.h</label>
        <link refid="errno_8h"/>
      </node>
      <node id="3">
        <label>asm/sbidef.h</label>
        <link refid="sbidef_8h"/>
      </node>
      <node id="4">
        <label>common/types.h</label>
        <link refid="types_8h"/>
        <childnode refid="5" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>asm/sbi.h</label>
        <link refid="sbi_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="8">
        <label>src/fs/fs.c</label>
        <link refid="fs_8c"/>
      </node>
      <node id="25">
        <label>src/kernel/sync/lock.c</label>
        <link refid="lock_8c"/>
      </node>
      <node id="6">
        <label>src/drivers/plic/plic.c</label>
        <link refid="plic_8c"/>
      </node>
      <node id="1">
        <label>src/arch/riscv/include/asm/pgtable.h</label>
        <link refid="pgtable_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
      </node>
      <node id="19">
        <label>src/kernel/sys/smp.c</label>
        <link refid="smp_8c"/>
      </node>
      <node id="16">
        <label>src/drivers/screen/screen.c</label>
        <link refid="screen_8c"/>
      </node>
      <node id="12">
        <label>src/include/common/elf.h</label>
        <link refid="elf_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
      </node>
      <node id="20">
        <label>src/lib/printk.c</label>
        <link refid="printk_8c"/>
      </node>
      <node id="26">
        <label>src/kernel/sync/sync.c</label>
        <link refid="sync_8c"/>
      </node>
      <node id="15">
        <label>src/kernel/sys/pcb.c</label>
        <link refid="pcb_8c"/>
      </node>
      <node id="9">
        <label>src/include/os/syscall.h</label>
        <link refid="include_2os_2syscall_8h"/>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="5">
        <label>src/drivers/virtio/virtio.h</label>
        <link refid="virtio_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="29">
        <label>src/kernel/mm/ioremap.c</label>
        <link refid="ioremap_8c"/>
      </node>
      <node id="24">
        <label>src/kernel/sys/time.c</label>
        <link refid="time_8c"/>
      </node>
      <node id="11">
        <label>src/init/main.c</label>
        <link refid="main_8c"/>
      </node>
      <node id="10">
        <label>src/kernel/irq/irq.c</label>
        <link refid="irq_8c"/>
      </node>
      <node id="18">
        <label>src/include/os/irq.h</label>
        <link refid="irq_8h"/>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
      </node>
      <node id="23">
        <label>src/kernel/mm/mm.c</label>
        <link refid="mm_8c"/>
      </node>
      <node id="27">
        <label>src/init/vm.c</label>
        <link refid="init_2vm_8c"/>
      </node>
      <node id="28">
        <label>src/lib/elf.c</label>
        <link refid="elf_8c"/>
      </node>
      <node id="22">
        <label>src/arch/riscv/sbi/io.c</label>
        <link refid="io_8c"/>
      </node>
      <node id="21">
        <label>src/include/os/smp.h</label>
        <link refid="smp_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
      </node>
      <node id="7">
        <label>src/drivers/virtio/virtio_blk.c</label>
        <link refid="virtio__blk_8c"/>
      </node>
      <node id="14">
        <label>src/arch/riscv/include/asm/stack.h</label>
        <link refid="stack_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
      </node>
      <node id="13">
        <label>src/include/os/pcb.h</label>
        <link refid="pcb_8h"/>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
      </node>
      <node id="17">
        <label>src/fs/fd.c</label>
        <link refid="fd_8c"/>
      </node>
      <node id="2">
        <label>src/arch/riscv/kernel/init/stack.c</label>
        <link refid="stack_8c"/>
      </node>
      <node id="3">
        <label>src/arch/riscv/kernel/init/vm.c</label>
        <link refid="arch_2riscv_2kernel_2init_2vm_8c"/>
      </node>
      <node id="4">
        <label>src/arch/riscv/kernel/sys/pgtable.c</label>
        <link refid="pgtable_8c"/>
      </node>
    </invincdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="pgtable_8h_1a8b39454e1fcc5204db5a6772f73bc6a1" prot="public" static="no">
        <name>SATP_MODE_SV39</name>
        <initializer>8</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="6" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="6" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1aaf4e2614414d57a362260f5647dcd6ad" prot="public" static="no">
        <name>SATP_MODE_SV48</name>
        <initializer>9</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="7" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="7" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1a9b6f93394d48fa7697fb330f6396796a" prot="public" static="no">
        <name>SATP_ASID_SHIFT</name>
        <initializer>44lu</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="9" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="9" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1a761a9ce3f0e9a8e1adfd0eadf868ccf7" prot="public" static="no">
        <name>SATP_MODE_SHIFT</name>
        <initializer>60lu</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="10" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="10" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1a7fe96413b980b8b6c52da8ebb14154e8" prot="public" static="no">
        <name>NORMAL_PAGE_SHIFT</name>
        <initializer>12lu</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="12" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="12" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1a4d79b19c57b121d211b145092347ae82" prot="public" static="no">
        <name>NORMAL_PAGE_SIZE</name>
        <initializer>(1lu &lt;&lt; <ref refid="pgtable_8h_1a7fe96413b980b8b6c52da8ebb14154e8" kindref="member">NORMAL_PAGE_SHIFT</ref>)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="13" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="13" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1a13926bfe88f7f9c4fa6757c879c3339c" prot="public" static="no">
        <name>LARGE_PAGE_SHIFT</name>
        <initializer>21lu</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="14" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="14" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1a5e794872b12686cc064052cdf6b38f9f" prot="public" static="no">
        <name>LARGE_PAGE_SIZE</name>
        <initializer>(1lu &lt;&lt; <ref refid="pgtable_8h_1a13926bfe88f7f9c4fa6757c879c3339c" kindref="member">LARGE_PAGE_SHIFT</ref>)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="15" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="15" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1a2b80cf0ed109436bcd5c94dcc623eed8" prot="public" static="no">
        <name>KERNEL_START_PA</name>
        <initializer>0x80200000lu</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="53" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="53" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1ab46988c33df37b11f27583a4b3cc90c7" prot="public" static="no">
        <name>KERNEL_END_PA</name>
        <initializer>0x80600000lu</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="54" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="54" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1aedc2ac196557ee36b7a3f9051e008a63" prot="public" static="no">
        <name>PGDIR_PA</name>
        <initializer>0x82000000lu</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="55" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="55" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1a634fa9e3491bc21c70f2f3d47c8a21ab" prot="public" static="no">
        <name>_PAGE_ACCESSED_OFFSET</name>
        <initializer>6</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="63" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="63" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1a041b72cd1297a9757f8818a37c6babf8" prot="public" static="no">
        <name>_PAGE_PRESENT</name>
        <initializer>((uint64_t)1 &lt;&lt; 0)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="65" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="65" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1a34817e0a9d91052b8e112e027e7e5357" prot="public" static="no">
        <name>_PAGE_READ</name>
        <initializer>((uint64_t)1 &lt;&lt; 1)   /* Readable */</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="66" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="66" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1a859113f71f0250bbf445b0ccc85d2b97" prot="public" static="no">
        <name>_PAGE_WRITE</name>
        <initializer>((uint64_t)1 &lt;&lt; 2)  /* Writable */</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="67" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="67" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1add99445425a4ec5bb1efa9edff4073e0" prot="public" static="no">
        <name>_PAGE_EXEC</name>
        <initializer>((uint64_t)1 &lt;&lt; 3)   /* Executable */</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="68" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="68" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1abbc3fc8293e9fa6f5acb7b2e4f530110" prot="public" static="no">
        <name>_PAGE_USER</name>
        <initializer>((uint64_t)1 &lt;&lt; 4)   /* User */</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="69" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="69" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1af781b0dfda11209e5406d9c54059175b" prot="public" static="no">
        <name>_PAGE_GLOBAL</name>
        <initializer>((uint64_t)1 &lt;&lt; 5) /* Global */</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="70" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="70" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1aa99e3f1ea461841b95b84b460edee900" prot="public" static="no">
        <name>_PAGE_ACCESSED</name>
        <initializer>(1 &lt;&lt; 6)         /* Set by hardware on any access */</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="71" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="71" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1a5e659dcc26fd1d56633a2269a20b4e58" prot="public" static="no">
        <name>_PAGE_DIRTY</name>
        <initializer>((uint64_t)1 &lt;&lt; 7)  /* Set by hardware on any write */</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="72" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="72" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1ada83d6c732a739620aacce476b1d3d96" prot="public" static="no">
        <name>_PAGE_SOFT</name>
        <initializer>((uint64_t)1 &lt;&lt; 8)   /* Reserved for software */</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="73" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="73" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1ac9494d98966010747e373320ee6381de" prot="public" static="no">
        <name>_PAGE_PFN_SHIFT</name>
        <initializer>10lu</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="75" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="75" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1acb67b5f0a01a84ef93dc8b28a7b77da9" prot="public" static="no">
        <name>VA_MASK</name>
        <initializer>((1lu &lt;&lt; 39) - 1)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="77" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="77" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1aa1a27c70c3f03db1ed2cdaef15d5c2fa" prot="public" static="no">
        <name>PPN_BITS</name>
        <initializer>9lu</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="79" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="79" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pgtable_8h_1a9e82aed18d121ea9e5034e2d65a08a3f" prot="public" static="no">
        <name>NUM_PTE_ENTRY</name>
        <initializer>((uint64_t)1 &lt;&lt; <ref refid="pgtable_8h_1aa1a27c70c3f03db1ed2cdaef15d5c2fa" kindref="member">PPN_BITS</ref>)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="80" column="9" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="80" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="typedef">
      <memberdef kind="typedef" id="pgtable_8h_1a9623c346fad4b6137ff074f35d680949" prot="public" static="no">
        <type>uint64_t</type>
        <definition>typedef uint64_t pte_t</definition>
        <argsstring></argsstring>
        <name>pte_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="17" column="18" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="17" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="pgtable_8h_1acd373ac1c9ae1093073db8f61d4696cf" prot="public" static="no">
        <type>uint64_t *</type>
        <definition>typedef uint64_t* pagetable_t</definition>
        <argsstring></argsstring>
        <name>pagetable_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="18" column="18" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="18" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="pgtable_8h_1a84884de9218381c7120044a50c84eeba" prot="public" static="no">
        <type>uint64_t</type>
        <definition>typedef uint64_t PTE</definition>
        <argsstring></argsstring>
        <name>PTE</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="82" column="18" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="82" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="pgtable_8h_1af2e2b97b62384984e1eb4a86de3b37d5" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>void</type>
        <definition>static void local_flush_tlb_all</definition>
        <argsstring>(void)</argsstring>
        <name>local_flush_tlb_all</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="20" column="20" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="20" bodyend="22"/>
      </memberdef>
      <memberdef kind="function" id="pgtable_8h_1a85cc8a03d3a96fabb6f9589789f46db5" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>void</type>
        <definition>static void local_flush_tlb_page</definition>
        <argsstring>(unsigned long addr)</argsstring>
        <name>local_flush_tlb_page</name>
        <param>
          <type>unsigned long</type>
          <declname>addr</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="25" column="20" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="25" bodyend="27"/>
      </memberdef>
      <memberdef kind="function" id="pgtable_8h_1a4edf32de435ee9be85783ae940b493ca" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>void</type>
        <definition>static void local_flush_icache_all</definition>
        <argsstring>(void)</argsstring>
        <name>local_flush_icache_all</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="29" column="20" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="29" bodyend="31"/>
      </memberdef>
      <memberdef kind="function" id="pgtable_8h_1ab0805846d0c779ec23d1b20444b49d90" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>void</type>
        <definition>static void flush_icache_all</definition>
        <argsstring>(void)</argsstring>
        <name>flush_icache_all</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="33" column="20" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="33" bodyend="36"/>
      </memberdef>
      <memberdef kind="function" id="pgtable_8h_1a75034b8f6712ae16ccc9b0e40a264693" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>void</type>
        <definition>static void flush_tlb_all</definition>
        <argsstring>(void)</argsstring>
        <name>flush_tlb_all</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="38" column="20" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="38" bodyend="41"/>
      </memberdef>
      <memberdef kind="function" id="pgtable_8h_1aeafe23379611324f14288bf421eee165" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>void</type>
        <definition>static void flush_tlb_page_all</definition>
        <argsstring>(unsigned long addr)</argsstring>
        <name>flush_tlb_page_all</name>
        <param>
          <type>unsigned long</type>
          <declname>addr</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="43" column="20" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="43" bodyend="46"/>
      </memberdef>
      <memberdef kind="function" id="pgtable_8h_1a9c54850eb30fe1e75ecdd79d071b2629" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>void</type>
        <definition>static void set_satp</definition>
        <argsstring>(unsigned mode, unsigned asid, unsigned long ppn)</argsstring>
        <name>set_satp</name>
        <param>
          <type>unsigned</type>
          <declname>mode</declname>
        </param>
        <param>
          <type>unsigned</type>
          <declname>asid</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>ppn</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="48" column="20" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="48" bodyend="51"/>
      </memberdef>
      <memberdef kind="function" id="pgtable_8h_1a80674e63af1f1a151fd1241aa7a4c036" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref></type>
        <definition>static uintptr_t iskva</definition>
        <argsstring>(uintptr_t kva)</argsstring>
        <name>iskva</name>
        <param>
          <type><ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref></type>
          <declname>kva</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="84" column="25" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="84" bodyend="87"/>
      </memberdef>
      <memberdef kind="function" id="pgtable_8h_1ac2174fcdb4a1e3298cfacd3a6dbca353" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref></type>
        <definition>static uintptr_t kva2pa</definition>
        <argsstring>(uintptr_t kva)</argsstring>
        <name>kva2pa</name>
        <param>
          <type><ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref></type>
          <declname>kva</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="89" column="25" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="89" bodyend="92"/>
      </memberdef>
      <memberdef kind="function" id="pgtable_8h_1a8e8b63ee99aed436355ee3229074e51d" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref> *</type>
        <definition>static PTE* pa2kva</definition>
        <argsstring>(uintptr_t pa)</argsstring>
        <name>pa2kva</name>
        <param>
          <type><ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref></type>
          <declname>pa</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="94" column="19" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="94" bodyend="96"/>
      </memberdef>
      <memberdef kind="function" id="pgtable_8h_1a20b734513295a9cb3957f9fd54157dbf" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>uint64_t</type>
        <definition>static uint64_t get_pa</definition>
        <argsstring>(PTE entry)</argsstring>
        <name>get_pa</name>
        <param>
          <type><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref></type>
          <declname>entry</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="98" column="24" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="98" bodyend="101"/>
      </memberdef>
      <memberdef kind="function" id="pgtable_8h_1a9ecd1678d6b6e230ba04b41ddaa12415" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref></type>
        <definition>static uintptr_t get_kva_of</definition>
        <argsstring>(uintptr_t va, uintptr_t pgdir_va)</argsstring>
        <name>get_kva_of</name>
        <param>
          <type><ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref></type>
          <declname>va</declname>
        </param>
        <param>
          <type><ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref></type>
          <declname>pgdir_va</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="103" column="25" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="103" bodyend="108"/>
      </memberdef>
      <memberdef kind="function" id="pgtable_8h_1a5c1c0d011471e75ae7ca209eb96deb82" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>uint64_t</type>
        <definition>static uint64_t get_pfn</definition>
        <argsstring>(PTE entry)</argsstring>
        <name>get_pfn</name>
        <param>
          <type><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref></type>
          <declname>entry</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="111" column="24" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="111" bodyend="114"/>
      </memberdef>
      <memberdef kind="function" id="pgtable_8h_1a7b937a5d35afb48b5ce944db56601c05" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>void</type>
        <definition>static void set_pfn</definition>
        <argsstring>(PTE *entry, uint64_t pfn)</argsstring>
        <name>set_pfn</name>
        <param>
          <type><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref> *</type>
          <declname>entry</declname>
        </param>
        <param>
          <type>uint64_t</type>
          <declname>pfn</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="116" column="20" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="116" bodyend="119"/>
      </memberdef>
      <memberdef kind="function" id="pgtable_8h_1ae8209123eb1875eea629e8348ceabf53" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>long</type>
        <definition>static long get_attribute</definition>
        <argsstring>(PTE entry, uint64_t mask)</argsstring>
        <name>get_attribute</name>
        <param>
          <type><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref></type>
          <declname>entry</declname>
        </param>
        <param>
          <type>uint64_t</type>
          <declname>mask</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="122" column="20" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="122" bodyend="124"/>
      </memberdef>
      <memberdef kind="function" id="pgtable_8h_1a7ea7a5d0f6a191a04f6bb787da8799b5" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>void</type>
        <definition>static void set_attribute</definition>
        <argsstring>(PTE *entry, uint64_t bits)</argsstring>
        <name>set_attribute</name>
        <param>
          <type><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref> *</type>
          <declname>entry</declname>
        </param>
        <param>
          <type>uint64_t</type>
          <declname>bits</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="126" column="20" bodyfile="src/arch/riscv/include/asm/pgtable.h" bodystart="126" bodyend="129"/>
      </memberdef>
      <memberdef kind="function" id="pgtable_8h_1a16a05e338bbca3bb0626f91e032ac94c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void clear_pgdir</definition>
        <argsstring>(uintptr_t pgdir_addr)</argsstring>
        <name>clear_pgdir</name>
        <param>
          <type><ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref></type>
          <declname>pgdir_addr</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/arch/riscv/include/asm/pgtable.h" line="131" column="6" bodyfile="src/arch/riscv/kernel/sys/pgtable.c" bodystart="3" bodyend="8" declfile="src/arch/riscv/include/asm/pgtable.h" declline="131" declcolumn="6"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#pragma<sp/>once</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="sbi_8h" kindref="compound">asm/sbi.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="types_8h" kindref="compound">common/types.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="6" refid="pgtable_8h_1a8b39454e1fcc5204db5a6772f73bc6a1" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>SATP_MODE_SV39<sp/>8</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7" refid="pgtable_8h_1aaf4e2614414d57a362260f5647dcd6ad" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>SATP_MODE_SV48<sp/>9</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9" refid="pgtable_8h_1a9b6f93394d48fa7697fb330f6396796a" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>SATP_ASID_SHIFT<sp/>44lu</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10" refid="pgtable_8h_1a761a9ce3f0e9a8e1adfd0eadf868ccf7" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>SATP_MODE_SHIFT<sp/>60lu</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight></codeline>
<codeline lineno="12" refid="pgtable_8h_1a7fe96413b980b8b6c52da8ebb14154e8" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>NORMAL_PAGE_SHIFT<sp/>12lu</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13" refid="pgtable_8h_1a4d79b19c57b121d211b145092347ae82" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>NORMAL_PAGE_SIZE<sp/>(1lu<sp/>&lt;&lt;<sp/>NORMAL_PAGE_SHIFT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14" refid="pgtable_8h_1a13926bfe88f7f9c4fa6757c879c3339c" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>LARGE_PAGE_SHIFT<sp/>21lu</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15" refid="pgtable_8h_1a5e794872b12686cc064052cdf6b38f9f" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>LARGE_PAGE_SIZE<sp/>(1lu<sp/>&lt;&lt;<sp/>LARGE_PAGE_SHIFT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17" refid="pgtable_8h_1a9623c346fad4b6137ff074f35d680949" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>uint64_t<sp/><ref refid="pgtable_8h_1a9623c346fad4b6137ff074f35d680949" kindref="member">pte_t</ref>;</highlight></codeline>
<codeline lineno="18" refid="pgtable_8h_1acd373ac1c9ae1093073db8f61d4696cf" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>uint64_t<sp/>*<ref refid="pgtable_8h_1acd373ac1c9ae1093073db8f61d4696cf" kindref="member">pagetable_t</ref>;<sp/></highlight><highlight class="comment">//<sp/>512<sp/>PTEs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>local_flush_tlb_all(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/>__asm__<sp/>__volatile__(</highlight><highlight class="stringliteral">&quot;sfence.vma&quot;</highlight><highlight class="normal"><sp/>:<sp/>:<sp/>:<sp/></highlight><highlight class="stringliteral">&quot;memory&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="22"><highlight class="normal">}</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Flush<sp/>one<sp/>page<sp/>from<sp/>local<sp/>TLB<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>local_flush_tlb_page(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>addr)<sp/>{</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/>__asm__<sp/>__volatile__(</highlight><highlight class="stringliteral">&quot;sfence.vma<sp/>%0&quot;</highlight><highlight class="normal"><sp/>:<sp/>:<sp/></highlight><highlight class="stringliteral">&quot;r&quot;</highlight><highlight class="normal">(addr)<sp/>:<sp/></highlight><highlight class="stringliteral">&quot;memory&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="27"><highlight class="normal">}</highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>local_flush_icache_all(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">asm</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">volatile</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;fence.i&quot;</highlight><highlight class="normal"><sp/>:::<sp/></highlight><highlight class="stringliteral">&quot;memory&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="31"><highlight class="normal">}</highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>flush_icache_all(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/>local_flush_icache_all();</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/>sbi_remote_fence_i(<ref refid="types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="36"><highlight class="normal">}</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>flush_tlb_all(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/>local_flush_tlb_all();</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/>sbi_remote_sfence_vma(<ref refid="types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/>0,<sp/>-1);</highlight></codeline>
<codeline lineno="41"><highlight class="normal">}</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>flush_tlb_page_all(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>addr)<sp/>{</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/>local_flush_tlb_page(addr);</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/>sbi_remote_sfence_vma(<ref refid="types_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/>0,<sp/>-1);</highlight></codeline>
<codeline lineno="46"><highlight class="normal">}</highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>set_satp(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>mode,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>asid,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>ppn)<sp/>{</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>__v<sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long)(((</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">)mode<sp/>&lt;&lt;<sp/><ref refid="pgtable_8h_1a761a9ce3f0e9a8e1adfd0eadf868ccf7" kindref="member">SATP_MODE_SHIFT</ref>)<sp/>|<sp/>((</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long)asid<sp/>&lt;&lt;<sp/><ref refid="pgtable_8h_1a9b6f93394d48fa7697fb330f6396796a" kindref="member">SATP_ASID_SHIFT</ref>)<sp/>|<sp/>ppn);</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/>__asm__<sp/>__volatile__(</highlight><highlight class="stringliteral">&quot;sfence.vma\ncsrw<sp/>satp,<sp/>%0&quot;</highlight><highlight class="normal"><sp/>:<sp/>:<sp/></highlight><highlight class="stringliteral">&quot;rK&quot;</highlight><highlight class="normal">(__v)<sp/>:<sp/></highlight><highlight class="stringliteral">&quot;memory&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="51"><highlight class="normal">}</highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight></codeline>
<codeline lineno="53" refid="pgtable_8h_1a2b80cf0ed109436bcd5c94dcc623eed8" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>KERNEL_START_PA<sp/>0x80200000lu</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54" refid="pgtable_8h_1ab46988c33df37b11f27583a4b3cc90c7" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>KERNEL_END_PA<sp/>0x80600000lu</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55" refid="pgtable_8h_1aedc2ac196557ee36b7a3f9051e008a63" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PGDIR_PA<sp/>0x82000000lu<sp/></highlight><highlight class="comment">//<sp/>use<sp/>bootblock&apos;s<sp/>page<sp/>as<sp/>PGDIR</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="58"><highlight class="comment"><sp/>*<sp/>PTE<sp/>format:</highlight></codeline>
<codeline lineno="59"><highlight class="comment"><sp/>*<sp/>|<sp/>XLEN-1<sp/><sp/>10<sp/>|<sp/>9<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>8<sp/>|<sp/>7<sp/>|<sp/>6<sp/>|<sp/>5<sp/>|<sp/>4<sp/>|<sp/>3<sp/>|<sp/>2<sp/>|<sp/>1<sp/>|<sp/>0</highlight></codeline>
<codeline lineno="60"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/>PFN<sp/><sp/><sp/><sp/><sp/><sp/>reserved<sp/>for<sp/>SW<sp/><sp/><sp/>D<sp/><sp/><sp/>A<sp/><sp/><sp/>G<sp/><sp/><sp/>U<sp/><sp/><sp/>X<sp/><sp/><sp/>W<sp/><sp/><sp/>R<sp/><sp/><sp/>V</highlight></codeline>
<codeline lineno="61"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="63" refid="pgtable_8h_1a634fa9e3491bc21c70f2f3d47c8a21ab" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_PAGE_ACCESSED_OFFSET<sp/>6</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65" refid="pgtable_8h_1a041b72cd1297a9757f8818a37c6babf8" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_PAGE_PRESENT<sp/>((uint64_t)1<sp/>&lt;&lt;<sp/>0)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66" refid="pgtable_8h_1a34817e0a9d91052b8e112e027e7e5357" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_PAGE_READ<sp/>((uint64_t)1<sp/>&lt;&lt;<sp/>1)<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Readable<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67" refid="pgtable_8h_1a859113f71f0250bbf445b0ccc85d2b97" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_PAGE_WRITE<sp/>((uint64_t)1<sp/>&lt;&lt;<sp/>2)<sp/><sp/></highlight><highlight class="comment">/*<sp/>Writable<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68" refid="pgtable_8h_1add99445425a4ec5bb1efa9edff4073e0" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_PAGE_EXEC<sp/>((uint64_t)1<sp/>&lt;&lt;<sp/>3)<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Executable<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69" refid="pgtable_8h_1abbc3fc8293e9fa6f5acb7b2e4f530110" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_PAGE_USER<sp/>((uint64_t)1<sp/>&lt;&lt;<sp/>4)<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>User<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70" refid="pgtable_8h_1af781b0dfda11209e5406d9c54059175b" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_PAGE_GLOBAL<sp/>((uint64_t)1<sp/>&lt;&lt;<sp/>5)<sp/></highlight><highlight class="comment">/*<sp/>Global<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71" refid="pgtable_8h_1aa99e3f1ea461841b95b84b460edee900" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_PAGE_ACCESSED<sp/>(1<sp/>&lt;&lt;<sp/>6)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>by<sp/>hardware<sp/>on<sp/>any<sp/>access<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72" refid="pgtable_8h_1a5e659dcc26fd1d56633a2269a20b4e58" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_PAGE_DIRTY<sp/>((uint64_t)1<sp/>&lt;&lt;<sp/>7)<sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>by<sp/>hardware<sp/>on<sp/>any<sp/>write<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73" refid="pgtable_8h_1ada83d6c732a739620aacce476b1d3d96" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_PAGE_SOFT<sp/>((uint64_t)1<sp/>&lt;&lt;<sp/>8)<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Reserved<sp/>for<sp/>software<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight></codeline>
<codeline lineno="75" refid="pgtable_8h_1ac9494d98966010747e373320ee6381de" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_PAGE_PFN_SHIFT<sp/>10lu</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77" refid="pgtable_8h_1acb67b5f0a01a84ef93dc8b28a7b77da9" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>VA_MASK<sp/>((1lu<sp/>&lt;&lt;<sp/>39)<sp/>-<sp/>1)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight></codeline>
<codeline lineno="79" refid="pgtable_8h_1aa1a27c70c3f03db1ed2cdaef15d5c2fa" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PPN_BITS<sp/>9lu</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="80" refid="pgtable_8h_1a9e82aed18d121ea9e5034e2d65a08a3f" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>NUM_PTE_ENTRY<sp/>((uint64_t)1<sp/>&lt;&lt;<sp/>PPN_BITS)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="82" refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>uint64_t<sp/><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref>;</highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/><ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref><sp/>iskva(<ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref><sp/>kva)<sp/>{</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>kva<sp/>=<sp/>kpa<sp/>+<sp/>0xffff_ffc0_0000_0000</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>kva<sp/>&gt;<sp/>0xffffffc000000000;</highlight></codeline>
<codeline lineno="87"><highlight class="normal">}</highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/><ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref><sp/>kva2pa(<ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref><sp/>kva)<sp/>{</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>kva<sp/>=<sp/>kpa<sp/>+<sp/>0xffff_ffc0_0000_0000</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>kva<sp/>-<sp/>0xffffffc000000000;</highlight></codeline>
<codeline lineno="92"><highlight class="normal">}</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>*pa2kva(<ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref><sp/>pa)<sp/>{</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>*)(pa<sp/>+<sp/>0xffffffc000000000);</highlight></codeline>
<codeline lineno="96"><highlight class="normal">}</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/>uint64_t<sp/>get_pa(<ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>entry)<sp/>{</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/>uint64_t<sp/>pa_temp<sp/>=<sp/>(entry<sp/>&gt;&gt;<sp/><ref refid="pgtable_8h_1ac9494d98966010747e373320ee6381de" kindref="member">_PAGE_PFN_SHIFT</ref>)<sp/>%<sp/>((uint64_t)1<sp/>&lt;&lt;<sp/><ref refid="pgtable_8h_1a9b6f93394d48fa7697fb330f6396796a" kindref="member">SATP_ASID_SHIFT</ref>);</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pa_temp<sp/>&lt;&lt;<sp/>12;</highlight></codeline>
<codeline lineno="101"><highlight class="normal">}</highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/><ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref><sp/>get_kva_of(<ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref><sp/>va,<sp/><ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref><sp/>pgdir_va)<sp/>{</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>entry<sp/>=<sp/>*(uint64_t<sp/>*)pgdir_va;</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/>uint64_t<sp/>ppn<sp/>=<sp/>get_pa(entry);</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/>uint64_t<sp/>mask<sp/>=<sp/>(((uint64_t)1)<sp/>&lt;&lt;<sp/>13)<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ppn<sp/>+<sp/>(va<sp/>&amp;<sp/>mask);</highlight></codeline>
<codeline lineno="108"><highlight class="normal">}</highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Get/Set<sp/>page<sp/>frame<sp/>number<sp/>of<sp/>the<sp/>`entry`<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/>uint64_t<sp/>get_pfn(<ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>entry)<sp/>{</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>uint64_t<sp/>pa_temp<sp/>=<sp/>(entry<sp/>&gt;&gt;<sp/><ref refid="pgtable_8h_1ac9494d98966010747e373320ee6381de" kindref="member">_PAGE_PFN_SHIFT</ref>)<sp/>%<sp/>((uint64_t)1<sp/>&lt;&lt;<sp/><ref refid="pgtable_8h_1a9b6f93394d48fa7697fb330f6396796a" kindref="member">SATP_ASID_SHIFT</ref>);</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pa_temp;</highlight></codeline>
<codeline lineno="114"><highlight class="normal">}</highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>set_pfn(<ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>*entry,<sp/>uint64_t<sp/>pfn)<sp/>{</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/>uint64_t<sp/>temp10<sp/>=<sp/>(*entry)<sp/>%<sp/>((uint64_t)1<sp/>&lt;&lt;<sp/>10);</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/>*entry<sp/>=<sp/>(pfn<sp/>&lt;&lt;<sp/>10)<sp/>|<sp/>temp10;</highlight></codeline>
<codeline lineno="119"><highlight class="normal">}</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Get/Set<sp/>attribute(s)<sp/>of<sp/>the<sp/>`entry`<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>get_attribute(<ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>entry,<sp/>uint64_t<sp/>mask)<sp/>{</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>entry<sp/>&amp;<sp/>mask;</highlight></codeline>
<codeline lineno="124"><highlight class="normal">}</highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>set_attribute(<ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>*entry,<sp/>uint64_t<sp/>bits)<sp/>{</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/>uint64_t<sp/>pfn_temp<sp/>=<sp/>(*entry)<sp/>&gt;&gt;<sp/>10;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/>*entry<sp/>=<sp/>(pfn_temp<sp/>&lt;&lt;<sp/>10)<sp/>|<sp/>bits;</highlight></codeline>
<codeline lineno="129"><highlight class="normal">}</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="pgtable_8h_1a16a05e338bbca3bb0626f91e032ac94c" kindref="member">clear_pgdir</ref>(<ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref><sp/>pgdir_addr);</highlight></codeline>
    </programlisting>
    <location file="src/arch/riscv/include/asm/pgtable.h"/>
  </compounddef>
</doxygen>
