<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.1" xml:lang="zh">
  <compounddef id="mm_8h" kind="file" language="C++">
    <compoundname>mm.h</compoundname>
    <includes refid="types_8h" local="no">common/types.h</includes>
    <includedby refid="stack_8c" local="no">src/arch/riscv/kernel/init/stack.c</includedby>
    <includedby refid="virtio__blk_8c" local="no">src/drivers/virtio/virtio_blk.c</includedby>
    <includedby refid="file_8h" local="no">src/fs/file.h</includedby>
    <includedby refid="fs_8c" local="no">src/fs/fs.c</includedby>
    <includedby refid="pcb_8h" local="no">src/include/os/pcb.h</includedby>
    <includedby refid="include_2os_2syscall_8h" local="no">src/include/os/syscall.h</includedby>
    <includedby refid="main_8c" local="no">src/init/main.c</includedby>
    <includedby refid="ioremap_8c" local="no">src/kernel/mm/ioremap.c</includedby>
    <includedby refid="mm_8c" local="no">src/kernel/mm/mm.c</includedby>
    <incdepgraph>
      <node id="1">
        <label>src/include/os/mm.h</label>
        <link refid="mm_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="3">
        <label>common/errno.h</label>
        <link refid="errno_8h"/>
      </node>
      <node id="2">
        <label>common/types.h</label>
        <link refid="types_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="6">
        <label>src/fs/fs.c</label>
        <link refid="fs_8c"/>
      </node>
      <node id="22">
        <label>src/kernel/sync/lock.c</label>
        <link refid="lock_8c"/>
      </node>
      <node id="18">
        <label>src/drivers/plic/plic.c</label>
        <link refid="plic_8c"/>
      </node>
      <node id="14">
        <label>src/kernel/sys/smp.c</label>
        <link refid="smp_8c"/>
      </node>
      <node id="1">
        <label>src/include/os/mm.h</label>
        <link refid="mm_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
      </node>
      <node id="11">
        <label>src/drivers/screen/screen.c</label>
        <link refid="screen_8c"/>
      </node>
      <node id="15">
        <label>src/lib/printk.c</label>
        <link refid="printk_8c"/>
      </node>
      <node id="23">
        <label>src/kernel/sync/sync.c</label>
        <link refid="sync_8c"/>
      </node>
      <node id="10">
        <label>src/kernel/sys/pcb.c</label>
        <link refid="pcb_8c"/>
      </node>
      <node id="21">
        <label>src/include/os/syscall.h</label>
        <link refid="include_2os_2syscall_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
      </node>
      <node id="24">
        <label>src/kernel/mm/ioremap.c</label>
        <link refid="ioremap_8c"/>
      </node>
      <node id="20">
        <label>src/kernel/sys/time.c</label>
        <link refid="time_8c"/>
      </node>
      <node id="7">
        <label>src/init/main.c</label>
        <link refid="main_8c"/>
      </node>
      <node id="13">
        <label>src/kernel/irq/irq.c</label>
        <link refid="irq_8c"/>
      </node>
      <node id="12">
        <label>src/include/os/irq.h</label>
        <link refid="irq_8h"/>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
      </node>
      <node id="19">
        <label>src/kernel/mm/mm.c</label>
        <link refid="mm_8c"/>
      </node>
      <node id="17">
        <label>src/arch/riscv/sbi/io.c</label>
        <link refid="io_8c"/>
      </node>
      <node id="16">
        <label>src/include/os/smp.h</label>
        <link refid="smp_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
      </node>
      <node id="3">
        <label>src/drivers/virtio/virtio_blk.c</label>
        <link refid="virtio__blk_8c"/>
      </node>
      <node id="9">
        <label>src/arch/riscv/include/asm/stack.h</label>
        <link refid="stack_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="8">
        <label>src/include/os/pcb.h</label>
        <link refid="pcb_8h"/>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
      </node>
      <node id="5">
        <label>src/fs/fd.c</label>
        <link refid="fd_8c"/>
      </node>
      <node id="4">
        <label>src/fs/file.h</label>
        <link refid="file_8h"/>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>src/arch/riscv/kernel/init/stack.c</label>
        <link refid="stack_8c"/>
      </node>
    </invincdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="mm_8h_1a393117d812950c2afe4edfe8fa2c4595" prot="public" static="no">
        <name>FS_KERNEL_ADDR</name>
        <initializer>0xffffffc084000000lu</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="5" column="9" bodyfile="src/include/os/mm.h" bodystart="5" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mm_8h_1a3f2e01a09cd6ec5fa9babf6cd3ba8f79" prot="public" static="no">
        <name>START_BLOCK</name>
        <initializer>2000</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="7" column="9" bodyfile="src/include/os/mm.h" bodystart="7" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mm_8h_1a2dcf8c45f945dd0c4301a94700f2112c" prot="public" static="no">
        <name>MEM_SIZE</name>
        <initializer>32</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="8" column="9" bodyfile="src/include/os/mm.h" bodystart="8" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mm_8h_1a7d467c1d283fdfa1f2081ba1e0d01b6e" prot="public" static="no">
        <name>PAGE_SIZE</name>
        <initializer>4096</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="9" column="9" bodyfile="src/include/os/mm.h" bodystart="9" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mm_8h_1aef6d6f3957e639df5120d01892abe782" prot="public" static="no">
        <name>INIT_KERNEL_STACK</name>
        <initializer>0xffffffc081000000lu</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="10" column="9" bodyfile="src/include/os/mm.h" bodystart="10" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mm_8h_1a2e47ec7ce19d2f57a60da284f1d7b0ab" prot="public" static="no">
        <name>FREEMEM</name>
        <initializer>(<ref refid="mm_8h_1aef6d6f3957e639df5120d01892abe782" kindref="member">INIT_KERNEL_STACK</ref> + <ref refid="mm_8h_1a7d467c1d283fdfa1f2081ba1e0d01b6e" kindref="member">PAGE_SIZE</ref> * 10)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="11" column="9" bodyfile="src/include/os/mm.h" bodystart="11" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mm_8h_1a911693d82fa9bad70039623e03a40920" prot="public" static="no">
        <name>FREEMEMK</name>
        <initializer>0xffffffc083000000lu</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="12" column="9" bodyfile="src/include/os/mm.h" bodystart="12" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mm_8h_1a1c61109160d8b25e154f4334c2a3d1d8" prot="public" static="no">
        <name>USER_STACK_ADDR</name>
        <initializer>0xf00010000lu</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="13" column="9" bodyfile="src/include/os/mm.h" bodystart="13" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mm_8h_1a6a982b48b8d3eb8eccd17e0d54ee5379" prot="public" static="no">
        <name>PROT_NONE</name>
        <initializer>0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="15" column="9" bodyfile="src/include/os/mm.h" bodystart="15" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mm_8h_1a15bf68ce8b590838b3a5c0b639d8d519" prot="public" static="no">
        <name>PROT_READ</name>
        <initializer>1</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="16" column="9" bodyfile="src/include/os/mm.h" bodystart="16" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mm_8h_1a2a79c8ceefb8fc25a940ae07a3d94429" prot="public" static="no">
        <name>PROT_WRITE</name>
        <initializer>2</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="17" column="9" bodyfile="src/include/os/mm.h" bodystart="17" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mm_8h_1a77848f068638e916c72cd543f5ecb815" prot="public" static="no">
        <name>PROT_EXEC</name>
        <initializer>4</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="18" column="9" bodyfile="src/include/os/mm.h" bodystart="18" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mm_8h_1a90748e5f3ae02384578359a8767ad84c" prot="public" static="no">
        <name>PROT_GROWSDOWN</name>
        <initializer>0X01000000</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="19" column="9" bodyfile="src/include/os/mm.h" bodystart="19" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mm_8h_1a6b0a82cd0522ce1f76512ad12c6c6f41" prot="public" static="no">
        <name>PROT_GROWSUP</name>
        <initializer>0X02000000</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="20" column="9" bodyfile="src/include/os/mm.h" bodystart="20" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mm_8h_1a238feed3512d8b21b3854d082dcae6f4" prot="public" static="no">
        <name>MAP_FILE</name>
        <initializer>0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="22" column="9" bodyfile="src/include/os/mm.h" bodystart="22" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mm_8h_1a57028962c2a7c0c802ca6613492f2ef3" prot="public" static="no">
        <name>MAP_SHARED</name>
        <initializer>0x01</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="23" column="9" bodyfile="src/include/os/mm.h" bodystart="23" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mm_8h_1a398ef47a991a44389aa9818c98a28d24" prot="public" static="no">
        <name>MAP_PRIVATE</name>
        <initializer>0X02</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="24" column="9" bodyfile="src/include/os/mm.h" bodystart="24" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mm_8h_1a8523dcf952f6ff059a3bed717e4f1296" prot="public" static="no">
        <name>MAP_FAILED</name>
        <initializer>((void *)-1)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="25" column="9" bodyfile="src/include/os/mm.h" bodystart="25" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mm_8h_1a2eeacc182cd2bd623a8b8d1eaed953a7" prot="public" static="no">
        <name>MAP_KERNEL</name>
        <initializer>1</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="27" column="9" bodyfile="src/include/os/mm.h" bodystart="27" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mm_8h_1a05b9810fe2f4f8e6b0fb8a6fb1627d07" prot="public" static="no">
        <name>MAP_USER</name>
        <initializer>2</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="28" column="9" bodyfile="src/include/os/mm.h" bodystart="28" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="typedef">
      <memberdef kind="typedef" id="mm_8h_1a84884de9218381c7120044a50c84eeba" prot="public" static="no">
        <type>uint64_t</type>
        <definition>typedef uint64_t PTE</definition>
        <argsstring></argsstring>
        <name>PTE</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="30" column="18" bodyfile="src/include/os/mm.h" bodystart="30" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="mm_8h_1a85908fe2c4b3ddd59b1e22eaae68e94b" prot="public" static="no" mutable="no">
        <type><ref refid="types_8h_1a3f13e4d5a59d909d6303f569fe5e6524" kindref="member">ptr_t</ref></type>
        <definition>ptr_t memCurr</definition>
        <argsstring></argsstring>
        <name>memCurr</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="31" column="14" bodyfile="src/kernel/mm/mm.c" bodystart="14" bodyend="-1" declfile="src/include/os/mm.h" declline="31" declcolumn="14"/>
      </memberdef>
      <memberdef kind="variable" id="mm_8h_1a55de389522fc33657cd15e41999dad29" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int diskpg_num</definition>
        <argsstring></argsstring>
        <name>diskpg_num</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="32" column="12" bodyfile="src/kernel/mm/mm.c" bodystart="17" bodyend="-1" declfile="src/include/os/mm.h" declline="32" declcolumn="12"/>
      </memberdef>
      <memberdef kind="variable" id="mm_8h_1a797fdb9f830559ca5d351b4b0c73cbda" prot="public" static="no" mutable="no">
        <type>uint64_t</type>
        <definition>uint64_t diskpg</definition>
        <argsstring>[1000]</argsstring>
        <name>diskpg</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="33" column="17" bodyfile="src/kernel/mm/mm.c" bodystart="24" bodyend="-1" declfile="src/include/os/mm.h" declline="33" declcolumn="17"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="mm_8h_1a9079f07451d515ac424e5a626c166a51" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void k_mm_move_to_disk</definition>
        <argsstring>(uint64_t pg_kva, uint64_t user_va)</argsstring>
        <name>k_mm_move_to_disk</name>
        <param>
          <type>uint64_t</type>
          <declname>pg_kva</declname>
        </param>
        <param>
          <type>uint64_t</type>
          <declname>user_va</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="35" column="6" bodyfile="src/kernel/mm/mm.c" bodystart="63" bodyend="76" declfile="src/include/os/mm.h" declline="35" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1a19b4b848312e9dbd2ad409ab3e96c0dc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void k_mm_get_back_disk</definition>
        <argsstring>(uint64_t va, uint64_t new_addr)</argsstring>
        <name>k_mm_get_back_disk</name>
        <param>
          <type>uint64_t</type>
          <declname>va</declname>
        </param>
        <param>
          <type>uint64_t</type>
          <declname>new_addr</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="36" column="6" bodyfile="src/kernel/mm/mm.c" bodystart="78" bodyend="93" declfile="src/include/os/mm.h" declline="36" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1a3f7629ebba93766197567becde6d87cc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void k_mm_en_invalid</definition>
        <argsstring>(uint64_t pa_kva, PTE *pgdir)</argsstring>
        <name>k_mm_en_invalid</name>
        <param>
          <type>uint64_t</type>
          <declname>pa_kva</declname>
        </param>
        <param>
          <type><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref> *</type>
          <declname>pgdir</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="37" column="6" bodyfile="src/kernel/mm/mm.c" bodystart="95" bodyend="109" declfile="src/include/os/mm.h" declline="37" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1a0e15dde735f424123b40961751f40945" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="types_8h_1a3f13e4d5a59d909d6303f569fe5e6524" kindref="member">ptr_t</ref></type>
        <definition>ptr_t k_mm_alloc_mem</definition>
        <argsstring>(int numPage, uint64_t user_va)</argsstring>
        <name>k_mm_alloc_mem</name>
        <param>
          <type>int</type>
          <declname>numPage</declname>
        </param>
        <param>
          <type>uint64_t</type>
          <declname>user_va</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="38" column="7" bodyfile="src/kernel/mm/mm.c" bodystart="111" bodyend="147" declfile="src/include/os/mm.h" declline="38" declcolumn="7"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1a15a9cb45278812554529da95588e9209" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="types_8h_1a3f13e4d5a59d909d6303f569fe5e6524" kindref="member">ptr_t</ref></type>
        <definition>ptr_t k_mm_alloc_page</definition>
        <argsstring>(int numPage)</argsstring>
        <name>k_mm_alloc_page</name>
        <param>
          <type>int</type>
          <declname>numPage</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="39" column="7" bodyfile="src/kernel/mm/mm.c" bodystart="149" bodyend="168" declfile="src/include/os/mm.h" declline="39" declcolumn="7"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1adad693c99d9b33d077b78a75aa5201ce" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void k_mm_fork_pgtable</definition>
        <argsstring>(PTE *dest_pgdir, PTE *src_pgdir)</argsstring>
        <name>k_mm_fork_pgtable</name>
        <param>
          <type><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref> *</type>
          <declname>dest_pgdir</declname>
        </param>
        <param>
          <type><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref> *</type>
          <declname>src_pgdir</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="40" column="6" bodyfile="src/kernel/mm/mm.c" bodystart="265" bodyend="306" declfile="src/include/os/mm.h" declline="40" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1aab68122be1820f55a6202989ad866daf" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void k_mm_fork_page_helper</definition>
        <argsstring>(uintptr_t va, PTE *destpgdir, PTE *srcpgdir)</argsstring>
        <name>k_mm_fork_page_helper</name>
        <param>
          <type><ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref></type>
          <declname>va</declname>
        </param>
        <param>
          <type><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref> *</type>
          <declname>destpgdir</declname>
        </param>
        <param>
          <type><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref> *</type>
          <declname>srcpgdir</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="41" column="6" bodyfile="src/kernel/mm/mm.c" bodystart="308" bodyend="329" declfile="src/include/os/mm.h" declline="41" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1abdbd898096585a80bc2856c062477425" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>uint64_t</type>
        <definition>uint64_t k_mm_get_kva_from_va</definition>
        <argsstring>(uint64_t va, PTE *pgdir)</argsstring>
        <name>k_mm_get_kva_from_va</name>
        <param>
          <type>uint64_t</type>
          <declname>va</declname>
        </param>
        <param>
          <type><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref> *</type>
          <declname>pgdir</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="42" column="10" bodyfile="src/kernel/mm/mm.c" bodystart="341" bodyend="355" declfile="src/include/os/mm.h" declline="42" declcolumn="10"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1ad12ebf232abab87dcf17f47fc5e66c9f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>long</type>
        <definition>long k_mm_getpa</definition>
        <argsstring>(uint64_t va)</argsstring>
        <name>k_mm_getpa</name>
        <param>
          <type>uint64_t</type>
          <declname>va</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="43" column="6" bodyfile="src/kernel/mm/mm.c" bodystart="357" bodyend="365" declfile="src/include/os/mm.h" declline="43" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1a6c8f487e853159370c9535438212a9ca" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void k_mm_map_kp</definition>
        <argsstring>(uint64_t va, uint64_t pa, PTE *pgdir)</argsstring>
        <name>k_mm_map_kp</name>
        <param>
          <type>uint64_t</type>
          <declname>va</declname>
        </param>
        <param>
          <type>uint64_t</type>
          <declname>pa</declname>
        </param>
        <param>
          <type><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref> *</type>
          <declname>pgdir</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="44" column="6" bodyfile="src/kernel/mm/mm.c" bodystart="367" bodyend="392" declfile="src/include/os/mm.h" declline="44" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1a50c3edde56bf0a3a364dc575067691f7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void k_mm_free_page</definition>
        <argsstring>(ptr_t baseAddr, int numPage)</argsstring>
        <name>k_mm_free_page</name>
        <param>
          <type><ref refid="types_8h_1a3f13e4d5a59d909d6303f569fe5e6524" kindref="member">ptr_t</ref></type>
          <declname>baseAddr</declname>
        </param>
        <param>
          <type>int</type>
          <declname>numPage</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="46" column="6" bodyfile="src/kernel/mm/mm.c" bodystart="170" bodyend="170" declfile="src/include/os/mm.h" declline="46" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1a00b0aa73fb7186a4c940dd83496dd199" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void *</type>
        <definition>void* k_mm_malloc</definition>
        <argsstring>(size_t size)</argsstring>
        <name>k_mm_malloc</name>
        <param>
          <type><ref refid="types_8h_1afeaa5ef46acd844422607ca6602691ef" kindref="member">size_t</ref></type>
          <declname>size</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="47" column="6" bodyfile="src/kernel/mm/mm.c" bodystart="172" bodyend="176" declfile="src/include/os/mm.h" declline="47" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1aed1b9a35c0f6f6039f48c12957dfccb1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void k_mm_share_pgtable</definition>
        <argsstring>(PTE *dest_pgdir, PTE *src_pgdir)</argsstring>
        <name>k_mm_share_pgtable</name>
        <param>
          <type><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref> *</type>
          <declname>dest_pgdir</declname>
        </param>
        <param>
          <type><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref> *</type>
          <declname>src_pgdir</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="48" column="6" bodyfile="src/kernel/mm/mm.c" bodystart="254" bodyend="263" declfile="src/include/os/mm.h" declline="48" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1a0ac89a697d37de67b2f7a8861c3a1e8e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref></type>
        <definition>uintptr_t k_mm_alloc_page_helper</definition>
        <argsstring>(uintptr_t va, PTE *pgdir)</argsstring>
        <name>k_mm_alloc_page_helper</name>
        <param>
          <type><ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref></type>
          <declname>va</declname>
        </param>
        <param>
          <type><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref> *</type>
          <declname>pgdir</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="49" column="11" bodyfile="src/kernel/mm/mm.c" bodystart="334" bodyend="339" declfile="src/include/os/mm.h" declline="49" declcolumn="11"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1ab9a320abb99210e232d4cfbad40a107f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>long</type>
        <definition>long k_mm_shm_page_get</definition>
        <argsstring>(int key)</argsstring>
        <name>k_mm_shm_page_get</name>
        <param>
          <type>int</type>
          <declname>key</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="50" column="6" bodyfile="src/kernel/mm/mm.c" bodystart="194" bodyend="220" declfile="src/include/os/mm.h" declline="50" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1af62a2c905fbc578282a02392902ab988" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>long</type>
        <definition>long k_mm_shm_page_dt</definition>
        <argsstring>(uintptr_t addr)</argsstring>
        <name>k_mm_shm_page_dt</name>
        <param>
          <type><ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref></type>
          <declname>addr</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="51" column="6" bodyfile="src/kernel/mm/mm.c" bodystart="222" bodyend="251" declfile="src/include/os/mm.h" declline="51" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1a88dba7dbe2c5f022becc2615e51fc92f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void k_mm_map</definition>
        <argsstring>(uint64_t va, uint64_t pa, PTE *pgdir)</argsstring>
        <name>k_mm_map</name>
        <param>
          <type>uint64_t</type>
          <declname>va</declname>
        </param>
        <param>
          <type>uint64_t</type>
          <declname>pa</declname>
        </param>
        <param>
          <type><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref> *</type>
          <declname>pgdir</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="52" column="6" bodyfile="src/kernel/mm/mm.c" bodystart="403" bodyend="429" declfile="src/include/os/mm.h" declline="52" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1a8197dbf98089500838012155e374ac8b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void k_mm_getback_page</definition>
        <argsstring>(int pid)</argsstring>
        <name>k_mm_getback_page</name>
        <param>
          <type>int</type>
          <declname>pid</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="53" column="6" bodyfile="src/kernel/mm/mm.c" bodystart="40" bodyend="60" declfile="src/include/os/mm.h" declline="53" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1a9fe3a67073555fa485dce879e75baffe" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref> *</type>
        <definition>PTE* k_mm_get_kva</definition>
        <argsstring>(PTE entry)</argsstring>
        <name>k_mm_get_kva</name>
        <param>
          <type><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref></type>
          <declname>entry</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="54" column="5" bodyfile="src/kernel/mm/mm.c" bodystart="34" bodyend="38" declfile="src/include/os/mm.h" declline="54" declcolumn="5"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1ac3744132e8f6d53531d3d2882240b710" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void k_mm_cancel_pg</definition>
        <argsstring>(PTE *pgdir)</argsstring>
        <name>k_mm_cancel_pg</name>
        <param>
          <type><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref> *</type>
          <declname>pgdir</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="55" column="6" bodyfile="src/kernel/mm/mm.c" bodystart="431" bodyend="437" declfile="src/include/os/mm.h" declline="55" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1a0f6d4865e00774e6ee9a47c82423bd4a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>uint64_t</type>
        <definition>uint64_t k_mm_alloc_newva</definition>
        <argsstring>()</argsstring>
        <name>k_mm_alloc_newva</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="56" column="10" bodyfile="src/kernel/mm/mm.c" bodystart="178" bodyend="192" declfile="src/include/os/mm.h" declline="56" declcolumn="10"/>
      </memberdef>
      <memberdef kind="function" id="mm_8h_1ada51c92c7d14bf2ca5630a30e8c8e4f6" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>long</type>
        <definition>long sys_brk</definition>
        <argsstring>(unsigned long brk)</argsstring>
        <name>sys_brk</name>
        <param>
          <type>unsigned long</type>
          <declname>brk</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/include/os/mm.h" line="58" column="6" bodyfile="src/kernel/mm/mm.c" bodystart="489" bodyend="510" declfile="src/include/os/mm.h" declline="58" declcolumn="6"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#pragma<sp/>once</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="types_8h" kindref="compound">common/types.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5" refid="mm_8h_1a393117d812950c2afe4edfe8fa2c4595" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>FS_KERNEL_ADDR<sp/>0xffffffc084000000lu</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight></codeline>
<codeline lineno="7" refid="mm_8h_1a3f2e01a09cd6ec5fa9babf6cd3ba8f79" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>START_BLOCK<sp/>2000</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8" refid="mm_8h_1a2dcf8c45f945dd0c4301a94700f2112c" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MEM_SIZE<sp/>32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9" refid="mm_8h_1a7d467c1d283fdfa1f2081ba1e0d01b6e" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PAGE_SIZE<sp/>4096<sp/></highlight><highlight class="comment">//<sp/>4K</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10" refid="mm_8h_1aef6d6f3957e639df5120d01892abe782" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>INIT_KERNEL_STACK<sp/>0xffffffc081000000lu</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11" refid="mm_8h_1a2e47ec7ce19d2f57a60da284f1d7b0ab" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>FREEMEM<sp/>(INIT_KERNEL_STACK<sp/>+<sp/>PAGE_SIZE<sp/>*<sp/>10)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12" refid="mm_8h_1a911693d82fa9bad70039623e03a40920" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>FREEMEMK<sp/>0xffffffc083000000lu</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13" refid="mm_8h_1a1c61109160d8b25e154f4334c2a3d1d8" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>USER_STACK_ADDR<sp/>0xf00010000lu</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15" refid="mm_8h_1a6a982b48b8d3eb8eccd17e0d54ee5379" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PROT_NONE<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16" refid="mm_8h_1a15bf68ce8b590838b3a5c0b639d8d519" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PROT_READ<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17" refid="mm_8h_1a2a79c8ceefb8fc25a940ae07a3d94429" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PROT_WRITE<sp/>2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18" refid="mm_8h_1a77848f068638e916c72cd543f5ecb815" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PROT_EXEC<sp/>4</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19" refid="mm_8h_1a90748e5f3ae02384578359a8767ad84c" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PROT_GROWSDOWN<sp/>0X01000000</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20" refid="mm_8h_1a6b0a82cd0522ce1f76512ad12c6c6f41" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PROT_GROWSUP<sp/>0X02000000</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22" refid="mm_8h_1a238feed3512d8b21b3854d082dcae6f4" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MAP_FILE<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23" refid="mm_8h_1a57028962c2a7c0c802ca6613492f2ef3" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MAP_SHARED<sp/>0x01</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24" refid="mm_8h_1a398ef47a991a44389aa9818c98a28d24" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MAP_PRIVATE<sp/>0X02</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25" refid="mm_8h_1a8523dcf952f6ff059a3bed717e4f1296" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MAP_FAILED<sp/>((void<sp/>*)-1)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27" refid="mm_8h_1a2eeacc182cd2bd623a8b8d1eaed953a7" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MAP_KERNEL<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28" refid="mm_8h_1a05b9810fe2f4f8e6b0fb8a6fb1627d07" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MAP_USER<sp/>2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30" refid="mm_8h_1a84884de9218381c7120044a50c84eeba" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>uint64_t<sp/><ref refid="mm_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref>;</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/><ref refid="types_8h_1a3f13e4d5a59d909d6303f569fe5e6524" kindref="member">ptr_t</ref><sp/><ref refid="mm_8h_1a85908fe2c4b3ddd59b1e22eaae68e94b" kindref="member">memCurr</ref>;</highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="mm_8h_1a55de389522fc33657cd15e41999dad29" kindref="member">diskpg_num</ref>;</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/>uint64_t<sp/><ref refid="mm_8h_1a797fdb9f830559ca5d351b4b0c73cbda" kindref="member">diskpg</ref>[1000];</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mm_8h_1a9079f07451d515ac424e5a626c166a51" kindref="member">k_mm_move_to_disk</ref>(uint64_t<sp/>pg_kva,<sp/>uint64_t<sp/>user_va);</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mm_8h_1a19b4b848312e9dbd2ad409ab3e96c0dc" kindref="member">k_mm_get_back_disk</ref>(uint64_t<sp/>va,<sp/>uint64_t<sp/>new_addr);</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mm_8h_1a3f7629ebba93766197567becde6d87cc" kindref="member">k_mm_en_invalid</ref>(uint64_t<sp/>pa_kva,<sp/><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>*pgdir);</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><ref refid="types_8h_1a3f13e4d5a59d909d6303f569fe5e6524" kindref="member">ptr_t</ref><sp/><ref refid="mm_8h_1a0e15dde735f424123b40961751f40945" kindref="member">k_mm_alloc_mem</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>numPage,<sp/>uint64_t<sp/>user_va);</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><ref refid="types_8h_1a3f13e4d5a59d909d6303f569fe5e6524" kindref="member">ptr_t</ref><sp/><ref refid="mm_8h_1a15a9cb45278812554529da95588e9209" kindref="member">k_mm_alloc_page</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>numPage);</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mm_8h_1adad693c99d9b33d077b78a75aa5201ce" kindref="member">k_mm_fork_pgtable</ref>(<ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>*dest_pgdir,<sp/><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>*src_pgdir);</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mm_8h_1aab68122be1820f55a6202989ad866daf" kindref="member">k_mm_fork_page_helper</ref>(<ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref><sp/>va,<sp/><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>*destpgdir,<sp/><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>*srcpgdir);</highlight></codeline>
<codeline lineno="42"><highlight class="normal">uint64_t<sp/><ref refid="mm_8h_1abdbd898096585a80bc2856c062477425" kindref="member">k_mm_get_kva_from_va</ref>(uint64_t<sp/>va,<sp/><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>*pgdir);</highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="mm_8h_1ad12ebf232abab87dcf17f47fc5e66c9f" kindref="member">k_mm_getpa</ref>(uint64_t<sp/>va);</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mm_8h_1a6c8f487e853159370c9535438212a9ca" kindref="member">k_mm_map_kp</ref>(uint64_t<sp/>va,<sp/>uint64_t<sp/>pa,<sp/><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>*pgdir);</highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mm_8h_1a50c3edde56bf0a3a364dc575067691f7" kindref="member">k_mm_free_page</ref>(<ref refid="types_8h_1a3f13e4d5a59d909d6303f569fe5e6524" kindref="member">ptr_t</ref><sp/>baseAddr,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>numPage);</highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<ref refid="mm_8h_1a00b0aa73fb7186a4c940dd83496dd199" kindref="member">k_mm_malloc</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>size);</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mm_8h_1aed1b9a35c0f6f6039f48c12957dfccb1" kindref="member">k_mm_share_pgtable</ref>(<ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>*dest_pgdir,<sp/><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>*src_pgdir);</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref><sp/><ref refid="mm_8h_1a0ac89a697d37de67b2f7a8861c3a1e8e" kindref="member">k_mm_alloc_page_helper</ref>(<ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref><sp/>va,<sp/><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>*pgdir);</highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="mm_8h_1ab9a320abb99210e232d4cfbad40a107f" kindref="member">k_mm_shm_page_get</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="mm_8h_1af62a2c905fbc578282a02392902ab988" kindref="member">k_mm_shm_page_dt</ref>(<ref refid="types_8h_1ad6cb5da84246290b3d730166b020f2a8" kindref="member">uintptr_t</ref><sp/>addr);</highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mm_8h_1a88dba7dbe2c5f022becc2615e51fc92f" kindref="member">k_mm_map</ref>(uint64_t<sp/>va,<sp/>uint64_t<sp/>pa,<sp/><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>*pgdir);</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mm_8h_1a8197dbf98089500838012155e374ac8b" kindref="member">k_mm_getback_page</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pid);</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>*<ref refid="mm_8h_1a9fe3a67073555fa485dce879e75baffe" kindref="member">k_mm_get_kva</ref>(<ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>entry);</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mm_8h_1ac3744132e8f6d53531d3d2882240b710" kindref="member">k_mm_cancel_pg</ref>(<ref refid="pgtable_8h_1a84884de9218381c7120044a50c84eeba" kindref="member">PTE</ref><sp/>*pgdir);</highlight></codeline>
<codeline lineno="56"><highlight class="normal">uint64_t<sp/><ref refid="mm_8h_1a0f6d4865e00774e6ee9a47c82423bd4a" kindref="member">k_mm_alloc_newva</ref>();</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="mm_8h_1ada51c92c7d14bf2ca5630a30e8c8e4f6" kindref="member">sys_brk</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>brk);</highlight></codeline>
    </programlisting>
    <location file="src/include/os/mm.h"/>
  </compounddef>
</doxygen>
